# 조선시대 과거제 급제자 혈연관계 분석 - 사용 가이드

## 📚 프로젝트 소개

이 프로젝트는 한국학중앙연구원의 조선시대 과거 급제자 데이터(문과, 무과, 사마시, 잡과)를 분석하여 **혈연관계가 과거 급제에 미친 영향**을 정량적으로 파악하는 데이터 분석 도구입니다.

## 🎯 주요 분석 내용

### 기본 분석 (`kinship_analysis.py`)
1. **본관별 집중도 분석** - 특정 성관의 급제자 독점 현상
2. **세과(世科) 가문 분석** - 2-4대 연속 급제한 명문가 발굴
3. **시대별 변화 분석** - 조선 전/중/후기의 패턴 변화
4. **지역별 분포 분석** - 거주지별 급제자 분포

### 고급 분석 (`advanced_analysis.py`)
1. **항렬자 패턴 분석** - 이름으로 가문 추정
2. **시대별 성관 추이** - 주요 가문의 흥망성쇠
3. **지역-성관 매핑** - 지역 기반 유력 가문 파악
4. **통계적 검정** - 지니계수를 통한 불평등도 측정
5. **등급별 분포** - 갑과/을과/병과 분석
6. **타임라인 시각화** - 10년 단위 급제 추이

## 📊 주요 발견 사항

### 1. 높은 집중도
- 상위 10% 성관(77개)이 전체 급제자의 **34.87%** 차지
- 지니계수 **0.79** → 매우 높은 불평등

### 2. 시대별 심화
- 조선 전기: 평균 4.76명/성관
- 조선 후기: 평균 18.59명/성관 (**3.9배 증가**)

### 3. 세과 가문의 지속성
- 99개 세과 가문이 평균 400년 이상 급제자 배출
- 최장: 한 청주(淸州) - 497년간 292명

### 4. 상위 5대 성관
1. **이 전주(全州)**: 870명
2. **권 안동(安東)**: 368명
3. **윤 파평(坡平)**: 346명
4. **한 청주(淸州)**: 292명
5. **홍 남양(南陽)**: 292명

## 🚀 빠른 시작

### 1. 환경 설정
```bash
# Python 가상환경 생성
python -m venv .venv

# 가상환경 활성화
source .venv/bin/activate  # macOS/Linux
# .venv\Scripts\activate  # Windows

# 필요한 패키지 설치
pip install pandas numpy matplotlib seaborn scipy
```

### 2. 기본 분석 실행
```bash
python kinship_analysis.py
```

**출력 파일:**
- `kinship_analysis_results.png` - 4가지 분석 결과 시각화
- `본관별_급제자수.csv` - 성관별 통계
- `세과가문_분석.csv` - 세과 가문 목록
- `시대별_통계.csv` - 시대별 집계

### 3. 고급 분석 실행
```bash
python advanced_analysis.py
```

**추가 출력 파일:**
- `timeline_analysis.png` - 시대별 급제 추이 그래프
- `항렬자_분석.csv` - 가문별 항렬자 패턴
- `시대별_성관추이.csv` - 성관별 시대별 통계
- `지역별_성관분포.csv` - 지역-성관 매핑

## 📈 결과 해석 가이드

### 지니계수 (Gini Coefficient)
- **0.0**: 완전 평등 (모든 성관이 동일한 급제자 수)
- **0.79**: 현재 데이터의 지니계수 → **매우 높은 불평등**
- **1.0**: 완전 불평등 (1개 성관이 모든 급제자 독점)

### 변이계수 (CV)
- 현재 데이터: **2.74**
- 의미: 평균의 2.74배만큼 표준편차가 크다
- 해석: 성관 간 급제자 수의 편차가 매우 크다

### 집중도 지표
- 상위 10% 성관이 **69.74%**의 급제자 차지
- 하위 90% 성관이 **30.26%**만 차지

## 🔍 심화 분석 아이디어

### 1. 네트워크 분석
```python
# 성관 간 혼인 관계를 네트워크로 시각화
# 필요: networkx 패키지
import networkx as nx

# 성관 간 인접 관계 (동일 지역, 동일 시험 등)
G = nx.Graph()
# ... 분석 코드 ...
```

### 2. 머신러닝 예측 모델
```python
# 급제 가능성 예측 모델
from sklearn.ensemble import RandomForestClassifier

# 특성: 본관, 거주지, 시대, 이전 가문 급제 횟수 등
# 목표: 급제 성공 여부 또는 등급(갑/을/병과)
```

### 3. 시계열 분석
```python
# 특정 성관의 급제 추이 예측
from statsmodels.tsa.arima.model import ARIMA

# 10년 단위 급제자 수로 시계열 구성
# 미래 급제 추이 예측
```

## 📚 데이터 구조

### 문과 급제자 데이터 필드
| 필드명 | 설명 | 예시 |
|--------|------|------|
| ID | 고유 식별자 | EXM_MN_6JOb_1589_004296 |
| 시험명 | 과거 종류 | 증광시(增廣試) |
| 왕대 | 왕 이름 | 선조(宣祖) |
| 시험년 | 급제 연도 | 1589 |
| 급제자 | 이름 | 고인후(高因厚) |
| 본관 | 본관 | 장흥(長興) |
| 등급 | 급제 등급 | 병과(丙科) |
| 등위 | 등수 | 6 |
| 거주지 | 출신지 | 광주(光州) |

## 🛠️ 커스터마이징

### 분석 기준 변경
```python
# kinship_analysis.py 수정

# 세과 기준 변경 (현재: 3대 → 2대로 완화)
seogwa = analyzer.analyze_seogwa_families(min_generations=2)

# 시대 구분 변경
def categorize_period(year):
    if year < 1500:  # 기준 변경
        return '조선 전기'
    # ...
```

### 시각화 스타일 변경
```python
# advanced_analysis.py의 create_timeline_visualization() 수정

# 색상 테마 변경
import seaborn as sns
sns.set_palette("husl")

# 그래프 크기 조정
fig, ax = plt.subplots(figsize=(20, 10))  # 기본: (16, 8)
```

## 🤝 확장 가능성

### 추가 데이터 소스 통합
1. **족보 데이터**: 4대조 직계 정보
2. **관직 데이터**: 급제 후 승진 경로
3. **토지 대장**: 경제적 배경
4. **혼인 기록**: 통혼망 분석

### 다른 분석 기법
1. **소셜 네트워크 분석 (SNA)**
2. **생존 분석 (Survival Analysis)** - 가문의 지속 기간
3. **공간 분석 (Spatial Analysis)** - 지역별 패턴
4. **텍스트 마이닝** - 족보, 문집 분석

## 📖 참고문헌

### 데이터 출처
- 한국학중앙연구원, 『조선시대 과거 급제자 데이터베이스』, 2020

### 관련 연구
- 미야지마 히로시, 『양반: 한국의 특권계층』, 너머북스, 2014
- 정석종, 『조선시대 사회신분연구』, 일조각, 1990
- 이수건, 『영남학파의 형성과 전개』, 일조각, 1995

### 방법론
- Gini Coefficient: 소득 불평등도 측정 지표
- Chi-square Test: 분포의 균등성 검정
- Coefficient of Variation: 상대적 변동성 측정

## ⚠️ 주의사항

### 데이터 한계
1. **본관 기준 분석**: 실제 혈연보다 넓은 범위
2. **누락 데이터**: 생년, 거주지 등 결측치 존재
3. **동명이인**: 이름만으로는 개인 식별 어려움

### 해석 주의
- 상관관계 ≠ 인과관계
- 혈연 외 요인 (교육, 경제력, 정치적 배경) 복합 작용
- 시대별 과거 정원의 변화 고려 필요

## 💡 활용 사례

### 1. 학술 연구
- 조선시대 사회 이동성 연구
- 과거제의 능력주의 vs 세습성 논쟁
- 문벌 사회의 형성 과정

### 2. 교육
- 한국사 수업 보조 자료
- 데이터 분석 실습 프로젝트
- 통계학 사례 연구

### 3. 문화콘텐츠
- 역사 다큐멘터리 제작
- 역사 웹툰/드라마 고증
- 족보 서비스 연계

## 📞 문의 및 기여

이 프로젝트는 교육 및 연구 목적으로 제작되었습니다.

**개선 아이디어:**
1. 더 나은 시각화 제안
2. 추가 분석 지표 제안
3. 버그 리포트
4. 데이터 정제 기여

---

**최종 업데이트**: 2025년 11월 11일
**버전**: 1.0
**라이선스**: MIT License (교육/연구용)
