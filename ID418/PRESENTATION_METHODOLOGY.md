# 조선시대 과거제 혈연 분석 방법론
## 발표용 요약 자료

---

## 📋 목차
1. [연구 개요](#1-연구-개요)
2. [데이터 수집 및 전처리](#2-데이터-수집-및-전처리)
3. [분석 방법론](#3-분석-방법론)
4. [주요 발견](#4-주요-발견)
5. [시각화 전략](#5-시각화-전략)

---

## 1. 연구 개요

### 1.1 연구 질문
**"혈연(가문)이 조선시대 과거 급제에 얼마나 영향을 미쳤는가?"**

### 1.2 연구 범위
- **대상**: 조선시대 문과 급제자 30,302명 (1392-1910, 518년)
- **데이터 출처**: 한국학중앙연구원 조선시대 과거 급제자 DB
- **핵심 변수**: 성씨, 본관, 급제 연도, 생년, 등급

### 1.3 분석 목표
1. 가문별 급제자 집중도 측정
2. 세대 간 연속성(세과) 분석
3. 시대별 변화 추이 파악
4. 현대 사회와의 비교

---

## 2. 데이터 수집 및 전처리

### 2.1 원천 데이터
```
📁 한국학중앙연구원 XML 데이터
├── 문과 급제자: 30,302명
├── 무과 급제자: 39,713명
├── 사마시 급제자: 84,782명
└── 잡과 급제자: 15,630명
```

### 2.2 전처리 과정

#### 단계 1: XML 파싱
```python
# ElementTree를 이용한 XML 파싱
- 급제자 이름, 본관, 시험년도, 생년, 거주지 추출
- 결측치 처리 및 데이터 정제
```

#### 단계 2: 성관(姓貫) 생성
```
성관 = 성씨 + 본관
예: "김 안동" = 김씨 + 안동 본관
```
**목적**: 동성이본(同姓異本) 구분
- "김 안동"과 "김 김해"는 다른 가문

#### 단계 3: 시대 구분
```
조선 초기 (1392-1450): 건국 귀족 시기
조선 전기 (1450-1550): 안정기
조선 중기 (1550-1650): 당쟁 시작
조선 후기 전반 (1650-1750): 문벌 사회 강화
조선 후기 후반 (1750-1850): 세도정치
조선 말기 (1850-1910): 제도 붕괴
```

### 2.3 데이터 품질
- **유효 데이터**: 29,856명 (98.5%)
- **성관 고유값**: 779개
- **평균 급제 연령**: 34.2세
- **분석 기간**: 518년

---

## 3. 분석 방법론

### 3.1 기본 분석 (Basic Analysis)

#### 📊 방법 1: 본관별 집중도 분석
**목적**: 어떤 가문이 많은 급제자를 배출했는가?

**방법**:
```python
# 성관별 급제자 수 집계
family_counts = df['성관'].value_counts()

# 상위 20개 가문 추출
top_20 = family_counts.head(20)
```

**측정 지표**:
- 절대 빈도 (명)
- 상대 비율 (%)
- 순위

**시각화**: 막대그래프 (Bar Chart)

---

#### 🏛️ 방법 2: 세과(世科) 가문 식별
**목적**: 여러 세대에 걸쳐 급제자를 배출한 가문 찾기

**정의**:
```
세과(世科) = 3대 이상 연속으로 급제자를 배출한 가문
연속 기준 = 40년 이내 (약 1.3세대)
```

**알고리즘**:
```python
for 각 성관:
    급제 연도 정렬
    for i in range(len(years) - 1):
        if years[i+1] - years[i] <= 40:
            연속 카운트 += 1
        else:
            연속 끊김
    
    if 연속 횟수 >= 3:
        세과 가문으로 분류
```

**측정 지표**:
- 세과 가문 수
- 평균 지속 기간
- 최장 지속 가문

**시각화**: 타임라인 차트

---

#### 📈 방법 3: 시대별 변화 분석
**목적**: 시간에 따른 가문 독점 심화 여부

**방법**:
```python
# 100년 단위로 구간 분할
for 시대 in ['초기', '전기', '중기', ...]:
    해당 시대 데이터 추출
    집중도 지표 계산 (지니계수, 상위 10% 비율)
    시대별 비교
```

**측정 지표**:
- 시대별 고유 가문 수
- 시대별 평균 급제자 수
- 집중도 변화율

**시각화**: 라인차트 (Line Chart)

---

### 3.2 고급 분석 (Advanced Analysis)

#### 🔢 방법 4: 지니계수 (Gini Coefficient)
**목적**: 불평등도를 정량적으로 측정

**공식**:
$$
G = 1 - 2 \int_0^1 L(x) dx
$$

여기서 $L(x)$는 로렌츠 곡선 (Lorenz Curve)

**계산 과정**:
```python
# 1. 급제자 수 오름차순 정렬
sorted_counts = np.sort(family_counts.values)

# 2. 누적 비율 계산
cumsum = np.cumsum(sorted_counts)
lorenz_y = cumsum / cumsum[-1]
lorenz_x = np.arange(1, n+1) / n

# 3. 사다리꼴 공식으로 면적 계산
area_under_lorenz = np.trapezoid(lorenz_y, lorenz_x)
gini = 1 - 2 * area_under_lorenz
```

**해석**:
- **0.0**: 완전 평등 (모든 가문이 동일)
- **1.0**: 완전 불평등 (1개 가문이 독점)
- **0.79** (본 연구): 극심한 불평등

**비교 기준**:
- 현대 한국 소득 지니: 0.34
- 남아공 소득 지니 (최악): 0.63
- 조선 과거제: **0.79** (2.3배 높음!)

---

#### 📊 방법 5: 파레토 분석 (Pareto Analysis)
**목적**: 소수의 가문이 얼마나 독점하는가? (80-20 법칙)

**방법**:
```python
# 1. 급제자 수 내림차순 정렬
sorted_families = family_counts.sort_values(ascending=False)

# 2. 누적 비율 계산
cumulative_pct = sorted_families.cumsum() / sorted_families.sum() * 100

# 3. 상위 10%, 20% 가문의 점유율 계산
top_10_pct = cumulative_pct[int(len(cumulative_pct) * 0.1)]
top_20_pct = cumulative_pct[int(len(cumulative_pct) * 0.2)]
```

**결과**:
- 상위 **10%** 가문 (77개) → 전체의 **34.87%** 독점
- 상위 **20%** 가문 (156개) → 전체의 **52.13%** 독점
- 하위 **50%** 가문 (389개) → 전체의 **6.24%** 불과

**시각화**: 파레토 차트 (막대 + 누적선)

---

#### 🔄 방법 6: 로렌츠 곡선 (Lorenz Curve)
**목적**: 불평등을 시각적으로 표현

**그래프 설명**:
```
y축: 급제자의 누적 비율 (0-100%)
x축: 가문의 누적 비율 (하위부터, 0-100%)

완전 평등선: y = x (대각선)
실제 분포: 완전 평등선 아래의 곡선
지니계수 = 대각선과 곡선 사이 면적 × 2
```

**시각화**: 면적 그래프 (Area Chart)

---

#### 🧬 방법 7: 세대 연속성 분석
**목적**: 가문의 지속력 측정

**지표**:
1. **연속 급제 기간**
   ```python
   duration = max(급제년도) - min(급제년도)
   ```

2. **세대 수 추정**
   ```python
   generations = duration / 30  # 1세대 = 약 30년
   ```

3. **급제 밀도**
   ```python
   density = 총급제자수 / 기간(년)
   ```

**분류**:
- **초강세과**: 200년 이상, 10명 이상
- **강세과**: 100-200년, 5-10명
- **일반 세과**: 50-100년, 3-5명

**결과**:
- 세과 가문: **99개**
- 평균 지속: **450년** (15세대)
- 최장 가문: **안동 김씨** (518년, 17세대)

---

#### 📅 방법 8: 시계열 분석
**목적**: 100년 단위 변화 추이

**방법**:
```python
# 1. 10년 단위 그룹화
df_grouped = df.groupby(df['시험년_int'] // 10 * 10)

# 2. 각 시기별 지표 계산
for period in periods:
    data_period = df_grouped.get_group(period)
    gini_period = calculate_gini(data_period)
    top10_period = calculate_top10_share(data_period)
```

**측정 지표**:
- 지니계수 변화
- 상위 10% 점유율 변화
- 신규 진입 가문 수
- 퇴출 가문 수

**발견**:
- 초기 지니: **0.49** (상대적 평등)
- 말기 지니: **0.72** (심각한 독점)
- 증가율: **+38%**

---

### 3.3 통합 분석 (Integrated Analysis)

#### 🔗 방법 9: 혈연 × 지연 교차 분석
**목적**: 가문과 지역의 상호작용

**방법**:
```python
# 교차표 생성
cross_table = pd.crosstab(df['성관'], df['지역'])

# 히트맵 시각화
sns.heatmap(cross_table, cmap='YlOrRd')
```

**발견**:
- 경기/한양 × 명문 가문 = **이중 특혜**
- 지역 RI (4.91) × 가문 집중도 (0.79) = **약 6배**

---

#### 📊 방법 10: DIKW 프레임워크
**목적**: 데이터를 지혜로 전환

**4단계 구조**:

**Data (원시 데이터)**
```
- 30,302명의 급제자 기록
- 779개 성관
- 518년 시간 범위
```

**Information (정보 - 통계)**
```
- 지니계수: 0.79
- 상위 10% 독점: 34.87%
- 세과 가문: 99개
- 평균 지속: 450년
```

**Knowledge (지식 - 패턴)**
```
- 시간이 갈수록 독점 심화
- 세과 가문의 구조적 우위
- 지역 + 가문 = 이중 필터
```

**Wisdom (지혜 - 함의)**
```
- 능력주의의 허상
- 구조적 불평등의 재생산
- 현대 사회와의 패러럴
```

---

## 4. 주요 발견

### 4.1 정량적 결과

| 지표 | 값 | 의미 |
|-----|-----|-----|
| **지니계수** | 0.7915 | 극심한 불평등 (현대의 2.3배) |
| **상위 10% 독점률** | 34.87% | 소수 가문의 과도한 집중 |
| **세과 가문 수** | 99개 | 전체의 12.7% |
| **세과 평균 지속** | 450년 | 15세대 연속 |
| **지니 증가율** | +38% | 시간에 따른 악화 |

### 4.2 정성적 발견

1. **초기 건국 귀족 → 후기 문벌 사회**
   - 조선 초기: 상대적으로 개방적 (지니 0.49)
   - 조선 말기: 극단적 폐쇄 (지니 0.72)

2. **세과 가문의 구조적 우위**
   - 문화자본 축적 (서책, 가학)
   - 네트워크 (추천, 인맥)
   - 경제력 (시험 준비 비용)

3. **지역 × 가문 이중 차별**
   - 경기/한양 거주 × 명문 가문 = 약 6배 특혜
   - 지방 × 평민 가문 = 거의 불가능

4. **능력주의의 허상**
   - 과거제 = 공정한 시험?
   - 실제 = 구조적 불평등 재생산 도구

---

## 5. 시각화 전략

### 5.1 사용된 차트 유형

| 차트 | 목적 | 도구 |
|-----|-----|-----|
| **막대그래프** | 가문별 급제자 수 비교 | matplotlib |
| **로렌츠 곡선** | 불평등 시각화 | numpy + matplotlib |
| **파레토 차트** | 집중도 표현 | seaborn |
| **라인차트** | 시대별 변화 추이 | matplotlib |
| **히트맵** | 교차 분석 | seaborn |
| **타임라인** | 세과 가문 지속성 | matplotlib |
| **다이어그램** | 이중 필터 구조 | matplotlib.patches |

### 5.2 색상 전략

```python
# 불평등도에 따른 색상
colors = {
    '극심한 과대표': '#d73027',  # 빨강
    '보통': '#fee090',           # 노랑
    '과소대표': '#91bfdb'        # 파랑
}

# 시대별 일관된 팔레트
period_colors = sns.color_palette("YlOrRd", 6)
```

### 5.3 최종 인포그래픽

**구성**: 6개 섹션 통합 레이아웃 (24×16 인치)
1. 지연 불평등 (지역별 RI)
2. 혈연 불평등 (로렌츠 곡선)
3. 이중 필터 다이어그램
4. 시대별 변화 (듀얼 축)
5. 교차 분석 히트맵
6. 조선 vs 현대 비교표

---

## 6. 연구의 의의

### 6.1 학술적 기여
- 정량적 방법론으로 혈연 영향 입증
- 지니계수 등 경제학 지표를 역사학에 적용
- 장기 시계열 데이터 (518년) 분석

### 6.2 현대적 함의
- 교육 불평등 구조의 역사적 기원
- "공정한 시험"의 신화 해체
- 구조적 차별의 재생산 메커니즘

### 6.3 디자인 관점
- 데이터 → 인사이트 → 사회적 메시지
- DIKW 프레임워크 적용
- 복잡한 통계를 직관적으로 시각화

---

## 7. 연구 한계 및 향후 과제

### 7.1 한계
1. **인구 데이터 부족**: 정확한 RI 계산 어려움
2. **혈연관계 미확인**: 실제 족보 데이터 없음
3. **사회경제적 변수**: 재산, 직업 등 미포함

### 7.2 향후 과제
1. 족보 DB와 결합하여 실제 혈연관계 확인
2. 혼인망 분석 (사돈 네트워크)
3. 급제 후 관직 진출 경로 추적
4. 타 시험 (무과, 잡과)과 비교

---

## 8. 결론

### 핵심 메시지
> **"조선시대 과거제는 공정한 능력주의가 아니라,  
> 혈연(가문)과 지연(지역)에 의한 이중 불평등 구조였다."**

### 수치로 보는 결론
- 지니계수 **0.79** = 극심한 불평등
- 상위 10% 가문이 **34.87%** 독점
- 시간이 갈수록 **38% 악화**
- 경기 × 명문 = **약 6배** 특혜

### 현대와의 연결
> **"500년이 지났지만, 구조적 불평등은 반복된다."**
- 조선: 과거제 → 현대: 입시
- 조선: 세과 → 현대: 전문직 세습
- 조선: 한양 집중 → 현대: 서울 집중

---

## 📚 참고문헌

1. **데이터 출처**
   - 한국학중앙연구원, 『조선시대 과거 급제자 데이터베이스』, 2020

2. **방법론**
   - Gini, C. (1912). "Variabilità e mutabilità"
   - Lorenz, M. O. (1905). "Methods of measuring the concentration of wealth"
   - Pareto, V. (1896). "Cours d'économie politique"

3. **선행 연구**
   - 미야지마 히로시, 『양반: 역사적 실체를 찾아서』, 2014
   - 이성무, 『조선시대 당쟁사』, 2007

---

## 📊 부록: 사용된 Python 코드 구조

```python
# 1. 데이터 로딩
KwagwaDataParser.load_all_data()

# 2. 기본 분석
KinshipAnalyzer.analyze_concentration()
KinshipAnalyzer.identify_sejok_families()
KinshipAnalyzer.analyze_temporal_changes()

# 3. 고급 분석
AdvancedKinshipAnalyzer.calculate_gini()
AdvancedKinshipAnalyzer.pareto_analysis()

# 4. 종합 분석
ComprehensiveKinshipAnalyzer.comprehensive_analysis()

# 5. 통합 시각화
IntegratedVisualization.create_master_infographic()
```

---

## 🎯 발표 팁

### 시간별 구성 (15분 기준)
1. **도입** (2분): 연구 질문 + 데이터 소개
2. **방법론** (5분): 지니계수, 파레토, 세과 중심
3. **결과** (5분): 3대 발견 (0.79, 34.87%, 이중 필터)
4. **함의** (2분): 현대 사회와의 연결
5. **Q&A** (1분)

### 강조할 숫자
- 📊 **0.79** (지니계수)
- 📊 **34.87%** (상위 10% 독점)
- 📊 **6배** (이중 특혜)

### 비주얼 활용
- 로렌츠 곡선 (충격적인 격차)
- 이중 필터 다이어그램 (구조 설명)
- 조선 vs 현대 비교표 (현재성)

---

**작성일**: 2025년 11월 13일  
**분석 도구**: Python 3.13, pandas, numpy, matplotlib, seaborn  
**분석 기간**: 2025년 11월  
**문의**: sungwoncho@example.com
