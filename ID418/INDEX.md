# 조선시대 과거제 급제자 혈연관계 분석 프로젝트

## 📁 프로젝트 구조

```
ID418/
├── 📄 README.md                    # 프로젝트 개요 및 학술적 의의
├── 📄 GUIDE.md                     # 상세 사용 가이드
├── 📄 SUMMARY.md                   # 핵심 분석 결과 요약
├── 📄 INDEX.md                     # 이 파일
│
├── 🐍 kinship_analysis.py          # 기본 분석 스크립트
├── 🐍 advanced_analysis.py         # 고급 분석 스크립트
│
├── 📊 원본 데이터 (XML)
│   ├── 한국학중앙연구원_조선조문과급제자_20200929.xml      (30,302명)
│   ├── 한국학중앙연구원_조선조 무과급제자 정보_20200929.xml (39,713명)
│   ├── 한국학중앙연구원_조선조사마시급제자_20200929.xml     (84,782명)
│   └── 한국학중앙연구원_조선조잡과급제자_20200929.xml       (15,630명)
│
├── 📈 분석 결과 (CSV)
│   ├── 본관별_급제자수.csv          # 성관별 통계
│   ├── 세과가문_분석.csv            # 2-4대 연속 급제 가문
│   ├── 시대별_통계.csv              # 조선 전/중/후기 비교
│   ├── 항렬자_분석.csv              # 이름 패턴 분석
│   ├── 시대별_성관추이.csv          # 주요 가문의 시대별 변화
│   └── 지역별_성관분포.csv          # 지역-가문 매핑
│
└── 🖼️ 시각화 결과 (PNG)
    ├── kinship_analysis_results.png # 4가지 기본 분석 그래프
    └── timeline_analysis.png         # 시대별 급제 추이
```

## 🚀 빠른 시작

### 1. 기본 분석 실행
```bash
python kinship_analysis.py
```
**소요 시간**: 약 10-15초  
**생성 파일**: 3개 CSV + 1개 PNG

### 2. 고급 분석 실행
```bash
python advanced_analysis.py
```
**소요 시간**: 약 20-30초  
**생성 파일**: 6개 CSV + 2개 PNG

## 📖 문서 가이드

### 처음 시작하는 분
→ **GUIDE.md** 읽기
- 환경 설정 방법
- 실행 방법
- 결과 해석 방법

### 연구자/학생
→ **README.md** 읽기
- 학술적 배경
- 분석 방법론
- 참고문헌

### 핵심 결과만 보고 싶은 분
→ **SUMMARY.md** 읽기
- 주요 수치
- 그래프 해석
- 학술적 의의

## 🎯 주요 분석 결과 한눈에 보기

| 지표 | 값 | 의미 |
|------|-----|------|
| **지니계수** | 0.79 | 극심한 불평등 |
| **상위 10% 집중도** | 69.74% | 소수 가문 독점 |
| **조선 후기 증가율** | 3.9배 | 집중도 심화 |
| **세과 가문 수** | 99개 | 장기 지배 가문 |
| **평균 지속 기간** | 400년+ | 세습적 구조 |

## 📊 분석 기능 매트릭스

| 기능 | 기본 분석 | 고급 분석 | 설명 |
|------|-----------|-----------|------|
| 본관별 집중도 | ✅ | ✅ | 성관별 급제자 수 통계 |
| 세과 가문 분석 | ✅ | ✅ | 2-4대 연속 급제 가문 |
| 시대별 변화 | ✅ | ✅ | 조선 전/중/후기 비교 |
| 지역별 분포 | ✅ | ✅ | 거주지별 통계 |
| 항렬자 패턴 | ❌ | ✅ | 이름으로 가문 추정 |
| 통계적 검정 | ❌ | ✅ | 지니계수, 변이계수 |
| 등급별 분석 | ❌ | ✅ | 갑/을/병과 분포 |
| 타임라인 시각화 | ❌ | ✅ | 10년 단위 추이 |

## 🔬 기술 스택

| 영역 | 도구 | 용도 |
|------|------|------|
| 언어 | Python 3.13+ | 데이터 분석 |
| 데이터 처리 | pandas, numpy | 데이터 전처리 및 통계 |
| 시각화 | matplotlib, seaborn | 그래프 생성 |
| 통계 분석 | scipy | 지니계수, 검정 |
| 데이터 형식 | XML | 원본 데이터 |
| 출력 형식 | CSV, PNG | 결과 저장 |

## 📈 분석 흐름도

```
[XML 데이터]
    ↓
[파싱 및 전처리]
    ↓
[데이터 정제]
    ├── 성관 추출 (성씨 + 본관)
    ├── 시대 구분 (전/중/후기)
    └── 결측치 처리
    ↓
[기본 분석]
    ├── 본관별 집중도
    ├── 세과 가문 발굴
    ├── 시대별 비교
    └── 지역별 분포
    ↓
[고급 분석]
    ├── 항렬자 패턴
    ├── 통계적 검정
    ├── 등급별 분석
    └── 타임라인 분석
    ↓
[결과 출력]
    ├── CSV 파일 (8개)
    └── PNG 이미지 (2개)
```

## 🎓 학습 목표

이 프로젝트를 통해 배울 수 있는 것:

### 데이터 과학
- [x] XML 데이터 파싱
- [x] pandas를 이용한 데이터 전처리
- [x] 통계 분석 (평균, 표준편차, 지니계수)
- [x] 데이터 시각화
- [x] 피봇 테이블 활용

### 역사 연구 방법론
- [x] 정량적 역사 연구
- [x] 사료 데이터베이스 구축
- [x] 시대별 비교 분석
- [x] 지역-가문 관계 분석

### 통계학
- [x] 기술 통계 (평균, 표준편차, 변이계수)
- [x] 불평등 지표 (지니계수)
- [x] 집중도 분석
- [x] 분포 분석

## 💡 활용 시나리오

### 시나리오 1: 학부 수업
**과목**: 한국사, 데이터 과학 입문  
**활동**: 
1. 기본 분석 실행
2. 결과 그래프 해석
3. 조별 토론: "과거제는 공정했는가?"

### 시나리오 2: 대학원 연구
**주제**: 조선시대 사회 이동성  
**활동**:
1. 고급 분석 실행
2. 추가 데이터 (족보) 수집
3. 네트워크 분석으로 확장
4. 논문 작성

### 시나리오 3: 개인 학습
**목적**: Python 데이터 분석 학습  
**활동**:
1. 코드 리딩 (kinship_analysis.py)
2. 파라미터 변경 실험
3. 새로운 분석 지표 추가
4. 포트폴리오 작성

## 🔧 커스터마이징 가이드

### 분석 기준 변경

#### 세과 기준 완화 (3대 → 2대)
```python
# kinship_analysis.py, line 237
seogwa = analyzer.analyze_seogwa_families(min_generations=2)
```

#### 시대 구분 변경
```python
# kinship_analysis.py, line 265
def categorize_period(year):
    if year < 1500:  # 기준 수정
        return '조선 전기'
```

#### 상위 N개 성관 변경
```python
# advanced_analysis.py, line 314
top_families = df['성관'].value_counts().head(10)  # 5 → 10
```

## 📞 트러블슈팅

### 문제 1: 한글 깨짐
**증상**: CSV 파일을 Excel에서 열면 한글이 깨짐  
**해결**: Excel에서 "데이터 → 텍스트 나누기 → UTF-8 선택"

### 문제 2: 그래프 한글 표시 안 됨
**증상**: PNG 파일에 한글이 □□□로 표시  
**해결**: 
```python
# 맥: AppleGothic
# 윈도우: Malgun Gothic
plt.rcParams['font.family'] = 'Malgun Gothic'
```

### 문제 3: 메모리 부족
**증상**: 실행 중 메모리 에러  
**해결**: 
```python
# 데이터를 청크 단위로 읽기
for chunk in pd.read_xml(file, chunksize=1000):
    process(chunk)
```

## 📚 추가 자료

### 관련 프로젝트
- [조선왕조실록 텍스트 마이닝](https://github.com/...)
- [족보 네트워크 분석](https://github.com/...)

### 추천 논문
- 미야지마 히로시, "조선시대 양반 사회의 형성"
- 정석종, "조선 과거제도의 사회적 기능"

### 관련 강의
- Coursera: "Data Science with Python"
- edX: "Quantitative Methods in Social Science"

## 🤝 기여 방법

이 프로젝트를 개선하고 싶으시다면:

1. **버그 리포트**: 문제 발견 시 이슈 등록
2. **기능 제안**: 새로운 분석 아이디어 제안
3. **코드 기여**: Pull Request 제출
4. **문서 개선**: 오타 수정, 설명 보강

## 📊 데이터 통계

| 과거 종류 | 급제자 수 | 평균 시험년 | 기간 |
|-----------|-----------|------------|------|
| 문과 | 30,302명 | 1687년 | 1392-1910 |
| 무과 | 39,713명 | 1706년 | 1392-1910 |
| 사마시 | 84,782명 | 1698년 | 1392-1910 |
| 잡과 | 15,630명 | 1712년 | 1392-1910 |
| **합계** | **170,427명** | - | 518년 |

## 🌟 핵심 인사이트 5가지

1. **불평등의 수치화**: 지니계수 0.79 → 현대 소득 불평등보다 심각
2. **시대별 악화**: 조선 후기 집중도 3.9배 증가
3. **세습 구조**: 99개 가문이 400년 이상 지배
4. **지역 독점**: 안동 = 권 안동, 정주 = 김 연안
5. **형식 vs 실제**: 능력주의 표방 ≠ 실질적 운영

## 🎯 다음 단계

- [ ] 족보 데이터 통합
- [ ] 네트워크 분석 추가
- [ ] 머신러닝 예측 모델
- [ ] 웹 대시보드 구축
- [ ] 영문 논문 작성

---

**프로젝트 시작일**: 2025년 11월 11일  
**최종 업데이트**: 2025년 11월 11일  
**버전**: 1.0  
**라이선스**: MIT (교육/연구용)  
**데이터 출처**: 한국학중앙연구원
